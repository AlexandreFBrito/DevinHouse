<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M1S02EX10</title>
</head>

<body>
    <section id="container">
        <form action="" id="formulario">
            <label for="fnome">Nome:</label>
            <br>
            <input type="text" name="" id="name">
            <br>
            <label for="fsobrenome">Sobrenome:</label>
            <br>
            <input type="text" name="" id="lastname">
            <br>
            <label for="">Email:</label>
            <br>
            <input type="email" name="" id="email">
            <br>
            <label for="">Telefone:</label>
            <br>
            <input type="tel" name="" id="phone">
            <br>
            <label for="">Endereço Completo</label>
            <br>
            <input type="text" name="" id="endereco">
            <br>
            
        </form>
        <button onclick="salvarForm()">Salvar Formulário</button>
    </section>
</body>
<script>
    
    var dadosForm = new Array();
    var dadosJson = JSON.parse(localStorage.getItem("formulario"));
    
    alert("Tem um total de "+dadosJson.length+" formulários salvos");
    
    if(dadosJson != null){
        dadosForm.push(dadosJson);
    }

    function salvarForm(){
        const name = document.querySelector("#name").value;
        const lastname = document.querySelector("#lastname").value;
        const email = document.querySelector("#email").value;
        const phone = document.querySelector("#phone").value;
        const endereco = document.querySelector("#endereco").value;
        
        dadosForm.push({"name": name, "lastname": lastname, "email": email, "phone": phone, "endereco": endereco})
        var salvarFormJson = JSON.stringify(dadosForm);
        localStorage.setItem('formulario', salvarFormJson);
    }
</script>
</html>